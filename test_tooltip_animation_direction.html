<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tooltip å›¾æ ‡åŠ¨ç”»æ–¹å‘æµ‹è¯•</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
        }

        .test-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
        }

        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.2em;
        }

        .instructions {
            background: #f8f9fa;
            border-left: 4px solid #dc3545;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }

        .instructions h3 {
            margin-top: 0;
            color: #dc3545;
        }

        .test-section {
            margin: 30px 0;
            padding: 25px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            background: #ffffff;
        }

        .test-section h3 {
            color: #495057;
            margin-top: 0;
            border-bottom: 2px solid #dee2e6;
            padding-bottom: 10px;
        }

        .test-text {
            font-size: 18px;
            line-height: 2;
            margin: 20px 0;
        }

        .highlight-info {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 12px;
            border-radius: 6px;
            margin: 15px 0;
            font-size: 14px;
            color: #856404;
        }

        .animation-demo {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .animation-demo h4 {
            margin-top: 0;
            color: #6c757d;
        }

        .demo-tooltip {
            display: inline-block;
            background: rgba(40, 40, 40, 0.9);
            color: white;
            padding: 8px 10px;
            border-radius: 6px;
            margin: 10px;
            position: relative;
            font-size: 14px;
            min-height: 24px;
            display: flex;
            align-items: center;
        }

        .demo-tooltip-expanded {
            background: rgba(40, 40, 40, 0.9);
            color: white;
            padding: 8px 10px;
            border-radius: 6px;
            margin: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            min-height: 24px;
            animation: expand-demo 2s ease-in-out infinite;
        }

        .demo-btn {
            width: 20px;
            height: 20px;
            border: none;
            border-radius: 4px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: slide-in-demo 2s ease-in-out infinite;
        }

        .demo-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            animation: heartbeat-demo 1.2s ease-in-out infinite;
        }

        .demo-heart {
            transform: scale(0.7);
        }

        /* æ¼”ç¤ºåŠ¨ç”» */
        @keyframes slide-in-demo {
            0%, 25% {
                opacity: 0;
                transform: translateX(15px) scale(0.8);
            }
            50%, 75% {
                opacity: 1;
                transform: translateX(0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateX(-15px) scale(0.8);
            }
        }

        @keyframes expand-demo {
            0%, 50% {
                width: 200px;
            }
            100% {
                width: 280px;
            }
        }

        @keyframes heartbeat-demo {
            0% { transform: scale(1); }
            14% { transform: scale(1.15); }
            28% { transform: scale(1); }
            42% { transform: scale(1.15); }
            70% { transform: scale(1); }
        }

        .expected-result {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
        }

        .expected-result strong {
            color: #155724;
        }

        .step-indicator {
            display: inline-block;
            background: #dc3545;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            margin-right: 8px;
        }

        .direction-arrow {
            font-size: 24px;
            color: #28a745;
            margin: 0 10px;
        }

        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            margin: 15px 0;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ¯ Tooltip å›¾æ ‡åŠ¨ç”»æ–¹å‘æµ‹è¯•</h1>

        <div class="instructions">
            <h3>ğŸ“‹ åŠ¨ç”»æ–¹å‘æ£€æŸ¥</h3>
            <p>æ£€æŸ¥ tooltip å³ä¾§ä¸¤ä¸ªå›¾æ ‡çš„åŠ¨ç”»å‡ºç°æ–¹å‘æ˜¯å¦æ­£ç¡®ï¼šåº”è¯¥ä»å³ä¾§æ»‘å…¥ï¼Œå‘å·¦ä¾§æ»‘å‡ºã€‚</p>

            <h4>ğŸ¯ æµ‹è¯•æ­¥éª¤ï¼š</h4>
            <ol>
                <li><span class="step-indicator">æ­¥éª¤1</span>é€‰æ‹©ä¸‹é¢çš„è‹±æ–‡å•è¯ï¼ŒæŒ‰ <kbd>Shift</kbd> é”®è¿›è¡Œé«˜äº®</li>
                <li><span class="step-indicator">æ­¥éª¤2</span>å°†é¼ æ ‡æ‚¬åœåœ¨é«˜äº®çš„å•è¯ä¸Šï¼Œæ˜¾ç¤ºåŸºç¡€ tooltip</li>
                <li><span class="step-indicator">æ­¥éª¤3</span>å°†é¼ æ ‡ç§»åŠ¨åˆ° tooltip çš„å³ä¾§ 2/5 åŒºåŸŸ</li>
                <li><span class="step-indicator">æ­¥éª¤4</span>è§‚å¯Ÿå›¾æ ‡åŠ¨ç”»ï¼šåº”è¯¥ä»å³ä¾§æ»‘å…¥ <span class="direction-arrow">â†’</span></li>
                <li><span class="step-indicator">æ­¥éª¤5</span>å°†é¼ æ ‡ç§»å›å·¦ä¾§ 1/3 åŒºåŸŸ</li>
                <li><span class="step-indicator">æ­¥éª¤6</span>è§‚å¯Ÿå›¾æ ‡åŠ¨ç”»ï¼šåº”è¯¥å‘å·¦ä¾§æ»‘åŠ¨æ¶ˆå¤± <span class="direction-arrow">â†</span></li>
                <li><span class="step-indicator">æ­¥éª¤7</span>æµ‹è¯•å¿ƒè·³åŠ¨ç”»ï¼šhover å›¾æ ‡æ—¶åº”è¯¥æœ‰å¿ƒè·³æ•ˆæœ</li>
            </ol>

            <div class="expected-result">
                <strong>é¢„æœŸåŠ¨ç”»æ–¹å‘ï¼ˆå·²ä¼˜åŒ–ï¼‰ï¼š</strong>
                <ul>
                    <li><strong>å‡ºç°ï¼š</strong>ä»å³ä¾§æ»‘å…¥ (translateX(15px) â†’ translateX(0))</li>
                    <li><strong>æ¶ˆå¤±ï¼š</strong>å‘å·¦ä¾§æ»‘åŠ¨æ¶ˆå¤± (translateX(0) â†’ translateX(-15px))</li>
                    <li><strong>ç¼©æ”¾ï¼š</strong>åŒæ—¶æœ‰ç¼©æ”¾æ•ˆæœ (scale(0.8) â†’ scale(1) â†’ scale(0.8))</li>
                    <li><strong>å¿ƒè·³ï¼š</strong>hover æ—¶ 1.2s å¿ƒè·³åŠ¨ç”»å¾ªç¯</li>
                </ul>
            </div>
        </div>

        <div class="animation-demo">
            <h4>ğŸ¨ åŠ¨ç”»æ•ˆæœæ¼”ç¤º</h4>
            <p><strong>åŸºç¡€çŠ¶æ€ï¼š</strong></p>
            <div class="demo-tooltip">n. æ¡†æ¶; ç»“æ„; ä½“ç³»</div>

            <p><strong>æ‰©å±•çŠ¶æ€ï¼ˆè‡ªåŠ¨æ¼”ç¤ºåŠ¨ç”»ï¼‰ï¼š</strong></p>
            <div class="demo-tooltip-expanded">
                <span>n. æ¡†æ¶; ç»“æ„; ä½“ç³»</span>
                <button class="demo-btn">â–¼</button>
                <button class="demo-btn"><span class="demo-heart">â¤ï¸</span></button>
            </div>

            <div class="highlight-info">
                ğŸ’¡ ä¸Šé¢çš„æ¼”ç¤ºä¼šè‡ªåŠ¨é‡å¤æ’­æ”¾åŠ¨ç”»ï¼Œå±•ç¤ºå›¾æ ‡ä»å³ä¾§æ»‘å…¥çš„æ•ˆæœ
            </div>
        </div>

        <div class="test-section">
            <h3>å®é™…æµ‹è¯•æ–‡æœ¬</h3>
            <div class="test-text">
                The modern <strong>framework</strong> provides comprehensive <strong>documentation</strong> for developers. This utility-first <strong>design</strong> approach makes <strong>component</strong> development more efficient.
            </div>
            <div class="test-text">
                <strong>JavaScript</strong> and <strong>TypeScript</strong> are popular programming languages. <strong>React</strong> framework simplifies <strong>website</strong> development.
            </div>
            <div class="highlight-info">
                ğŸ’¡ æµ‹è¯•è¯æ±‡ï¼šframework, documentation, design, component, JavaScript, TypeScript, React, website
            </div>
        </div>

        <div class="test-section">
            <h3>æŠ€æœ¯å®ç°æ£€æŸ¥</h3>
            <p><strong>å½“å‰åŠ¨ç”»å®ç°ï¼š</strong></p>

            <div class="code-block">
<strong>CSS åˆå§‹çŠ¶æ€ï¼š</strong>
.lucid-tooltip-actions {
  opacity: 0;
  transform: translateX(15px) scale(0.8);
  transition: all 400ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

<strong>JavaScript æ‰©å±•åŠ¨ç”»ï¼š</strong>
// é¢„è®¾åˆå§‹çŠ¶æ€
actions.style.opacity = '0';
actions.style.transform = 'translateX(15px) scale(0.8)';

// åŠ¨ç”»åˆ°æœ€ç»ˆçŠ¶æ€
actions.style.opacity = '1';
actions.style.transform = 'translateX(0) scale(1)';

<strong>JavaScript æ”¶ç¼©åŠ¨ç”»ï¼š</strong>
actions.style.opacity = '0';
actions.style.transform = 'translateX(-15px) scale(0.8)';
            </div>

            <div class="expected-result">
                <strong>åŠ¨ç”»åˆ†æï¼ˆå·²ä¼˜åŒ–ï¼‰ï¼š</strong>
                <ul>
                    <li>âœ… åˆå§‹ä½ç½®ï¼štranslateX(15px) - åœ¨å³ä¾§</li>
                    <li>âœ… æ˜¾ç¤ºä½ç½®ï¼štranslateX(0) - åœ¨æ­£å¸¸ä½ç½®</li>
                    <li>âœ… è¿›å…¥æ–¹å‘ï¼šä»å³å‘å·¦æ»‘å…¥</li>
                    <li>âœ… é€€å‡ºæ–¹å‘ï¼šå‘å·¦æ»‘åŠ¨æ¶ˆå¤± (translateX(-15px))</li>
                    <li>âœ… ç¼©æ”¾æ•ˆæœï¼š0.8 â†’ 1.0 â†’ 0.8</li>
                    <li>âœ… ç¼“åŠ¨å‡½æ•°ï¼šå¼¹æ€§æ•ˆæœ</li>
                </ul>
            </div>
        </div>

        <div class="instructions">
            <h3>ğŸ” è°ƒè¯•æ–¹æ³•</h3>
            <ul>
                <li>æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·</li>
                <li>åœ¨ Console ä¸­è§‚å¯ŸåŠ¨ç”»ç›¸å…³æ—¥å¿—</li>
                <li>åœ¨ Elements é¢æ¿ä¸­æ£€æŸ¥ tooltip å…ƒç´ çš„ transform å±æ€§å˜åŒ–</li>
                <li>ä½¿ç”¨ Performance é¢æ¿å½•åˆ¶åŠ¨ç”»è¿‡ç¨‹</li>
                <li>æ£€æŸ¥ CSS transition å’Œ transform çš„è®¡ç®—å€¼</li>
            </ul>
        </div>
    </div>

    <script>
        // æ·»åŠ è°ƒè¯•è¾…åŠ©åŠŸèƒ½
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸ¯ Tooltip å›¾æ ‡åŠ¨ç”»æ–¹å‘æµ‹è¯•é¡µé¢å·²åŠ è½½');

            // ç›‘å¬ tooltip çŠ¶æ€å˜åŒ–
            const observer = new MutationObserver(function(mutations) {
                mutations.forEach(function(mutation) {
                    if (mutation.type === 'attributes' &&
                        mutation.attributeName === 'class' &&
                        mutation.target.classList.contains('lucid-tooltip')) {

                        const isExpanded = mutation.target.classList.contains('lucid-tooltip-expanded');
                        const actions = mutation.target.querySelector('.lucid-tooltip-actions');

                        if (actions) {
                            const transform = window.getComputedStyle(actions).transform;
                            const opacity = window.getComputedStyle(actions).opacity;

                            console.log(`ğŸ“Š Tooltip çŠ¶æ€å˜åŒ–: ${isExpanded ? 'æ‰©å±•' : 'æ”¶ç¼©'}`, {
                                transform: transform,
                                opacity: opacity,
                                display: actions.style.display
                            });
                        }
                    }
                });
            });

            observer.observe(document.body, {
                childList: true,
                subtree: true,
                attributes: true,
                attributeFilter: ['class']
            });
        });
    </script>
</body>
</html>
