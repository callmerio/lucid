# 任务完成检查清单

## 代码质量检查

### 1. TypeScript 编译
```bash
# 必须通过 TypeScript 编译检查
pnpm compile
pnpm type-check
```
**要求**: 零编译错误

### 2. 代码规范检查
```bash
# ESLint 检查
pnpm lint

# 自动修复可修复的问题
pnpm lint:fix
```
**要求**: 零 ESLint 错误

### 3. 代码格式化
```bash
# 检查格式
pnpm format:check

# 自动格式化
pnpm format
```
**要求**: 代码格式符合 Prettier 规范

## 测试验证

### 4. 单元测试
```bash
# 运行所有测试
pnpm test:run

# 查看测试覆盖率
pnpm test:coverage
```
**要求**: 
- 所有测试通过
- 新功能有对应测试
- 关键功能测试覆盖率 > 80%

### 5. 功能测试
```bash
# 启动开发服务器进行手动测试
pnpm dev
```
**验证项目**:
- 扩展正常加载
- 核心功能正常工作
- 无控制台错误

## 构建验证

### 6. 生产构建
```bash
# 构建生产版本
pnpm build

# 验证构建产物
ls -la .output/
```
**要求**: 构建成功，无错误和警告

### 7. 扩展打包
```bash
# 打包扩展
pnpm zip
```
**要求**: 成功生成可安装的扩展包

## 代码审查

### 8. 代码质量
- [ ] 代码逻辑清晰，易于理解
- [ ] 遵循项目命名约定
- [ ] 适当的注释和文档
- [ ] 无硬编码值，使用常量
- [ ] 错误处理完善

### 9. 性能考虑
- [ ] 避免不必要的重渲染
- [ ] 合理使用缓存
- [ ] 优化资源加载
- [ ] 内存泄漏检查

### 10. 安全性
- [ ] 输入验证和清理
- [ ] 避免 XSS 漏洞
- [ ] 敏感数据保护
- [ ] 权限最小化原则

## 文档更新

### 11. 代码文档
- [ ] 更新相关 JSDoc 注释
- [ ] 更新类型定义
- [ ] 更新 README（如需要）

### 12. 变更记录
- [ ] 记录重要变更
- [ ] 更新版本号（如需要）
- [ ] 更新 CHANGELOG（如需要）

## Git 提交

### 13. 提交前检查
```bash
# Husky 会自动运行 lint-staged
git add .
git commit -m "feat: 描述性提交信息"
```

### 14. 提交信息规范
- 使用约定式提交格式
- 类型: feat, fix, docs, style, refactor, test, chore
- 简洁明确的描述
- 必要时添加详细说明

## 部署前验证

### 15. 最终检查
- [ ] 所有自动化检查通过
- [ ] 手动功能测试完成
- [ ] 性能测试通过
- [ ] 兼容性测试完成
- [ ] 文档更新完成

### 16. 发布准备
- [ ] 版本标签正确
- [ ] 发布说明准备
- [ ] 回滚计划确认