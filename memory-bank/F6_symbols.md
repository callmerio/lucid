# F6: Symbol Reference - 符号说明与角色定义

**最后更新**: 2025-01-27 13:15:00 +08:00  
**RIPER Lite 版本**: v1.1.0

## RIPER 模式符号系统

### 核心模式定义
- **R** = 研究模式 → 信息收集、代码分析、问题发现
- **I** = 创新模式 → 创意生成、方案探索、技术评估  
- **P** = 计划模式 → 方案设计、步骤规划、资源分配
- **E** = 执行模式 → 代码实现、功能开发、测试验证
- **R** = 审查模式 → 质量检查、结果验证、偏差报告

### 任务集符号 (T)
```
T[0-3]   研究任务: read_files, ask_questions, observe_code, document_findings
T[4-6]   创新任务: suggest_ideas, explore_options, evaluate_approaches  
T[7-9]   计划任务: create_plan, detail_specifications, sequence_steps
T[10-12] 执行任务: implement_code, follow_plan, test_implementation
T[13-15] 审查任务: validate_output, verify_against_plan, report_deviations
```

### 内存文件符号 (F)
```
F1 = F1_projectbrief.md     # 项目概述、需求列表
F2 = F2_systemPatterns.md   # 架构概述、设计模式、技术原则应用
F3 = F3_techContext.md      # 技术栈、配置信息、编程规范
F4 = F4_activeContext.md    # 当前焦点、最近变更、下一步
F5 = F5_progress.md         # 项目状态、完成度、质量指标
F6 = F6_symbols.md          # 符号说明、角色定义、技术原则映射
```

## 团队角色定义

### 核心角色
- 🤠 **PM** (项目经理) → 项目规划、资源协调、进度管理
- 🧔🏻 **PDM** (产品经理) → 需求分析、用户体验、产品策略
- 👨🏻‍🦱 **AR** (架构师) → 系统设计、技术选型、架构决策
- 👧🏻 **UI/UX** (设计师) → 界面设计、交互体验、视觉规范
- 👨🏻‍💻 **LD** (首席开发) → 代码实现、技术实施、开发指导
- 👨🏻‍🔬 **TE** (测试工程师) → 质量保证、测试策略、缺陷管理
- 👾 **SE** (安全工程师) → 安全审计、风险评估、安全编码
- 👨🏻‍💻 **DW** (文档编写者) → 技术文档、用户手册、知识管理

### 角色-模式映射
```
R研究模式 → PDM, AR, LD, DW (信息收集与分析)
I创新模式 → AR, LD, PDM, PM (创意与方案探索)
P计划模式 → PM, AR, LD, TE, DW (规划与设计)
E执行模式 → LD, TE, DW (实施与开发)
R审查模式 → TE, AR, LD, PM, PDM, UI/UX, SE, DW (质量检查)
```

## 技术原则体系

### SOLID 原则映射
- **S** (单一职责) → 模块化设计、组件专一性
- **O** (开闭原则) → 扩展性设计、插件架构
- **L** (里氏替换) → 接口一致性、实现可替换性
- **I** (接口隔离) → 最小接口、功能分离
- **D** (依赖倒置) → 抽象依赖、解耦设计

### 其他核心原则
- **KISS** (保持简单) → 简洁设计、避免过度复杂
- **YAGNI** (避免过度设计) → 需求驱动、渐进开发
- **DRY** (避免重复) → 代码复用、统一管理
- **高内聚低耦合** → 模块内聚、模块间解耦
- **可测试性设计** → 依赖注入、纯函数优先
- **安全编码** → 输入验证、权限控制、XSS防护
- **Clean Code** → 可读性、可维护性、语义化命名

### 原则-模式应用
```
R研究模式 → Clean_Code(代码分析), SOLID(架构评估), 安全编码(安全审计)
I创新模式 → KISS+YAGNI(方案设计), 高内聚低耦合(技术选型), DRY(创新评估)
P计划模式 → SOLID(架构设计), 可测试性(测试策略), KISS(实施规划)
E执行模式 → Clean_Code+DRY(代码实现), SOLID(质量保证), 可测试性(测试编写)
R审查模式 → 所有原则(质量检查), SOLID(架构验证), 安全编码(安全审查)
```

## MCP 工具集符号

### M1: mcp-feedback-enhanced (强制执行)
- **触发条件**: 阶段性完成、执行检查点、审查结束、对话收尾、需求不明
- **执行流程**: 汇总 → 调用工具 → 解析反馈 → 选择行动
- **汇总模板**: 当前状态 | 已完成工作 | 进度摘要 | 问题阻塞 | 用户决策点 | 建议选项 | 推荐行动

### M2-M6: 其他工具
- **M2** context7-mcp → 交叉引用与历史上下文
- **M3** sequential-thinking → 复杂问题分解
- **M4** playwright → E2E测试与网页抓取 (高风险-需授权)
- **M5** mcp-server-time → 时间戳
- **M6** cursor10x-mcp → 跨会话记忆 (高风险-需授权)

## 项目生命周期符号

### 阶段符号 (S)
- **S1** 未启动 → 项目概念阶段
- **S2** 初始化 → 环境搭建、基础架构
- **S3** 开发 → 功能实现、迭代开发
- **S4** 维护 → 优化改进、问题修复

### 转换命令
- `/start, /init` → S1→S2 转换
- 自动转换 → S2→S3
- 用户请求 → S3↔S4

## 状态指示符号

### 完成状态
- ✅ 已完成
- 🔄 进行中  
- ⭕ 部分完成
- ❌ 未开始
- 🟢 良好状态
- 🟡 需要关注
- 🔴 高风险

### 优先级符号
- **P0** 最高优先级 (阻塞性)
- **P1** 高优先级 (重要功能)
- **P2** 中优先级 (增强功能)
- **P3** 低优先级 (可选功能)

## 质量指标符号

### 性能指标
- **响应时间**: < 50ms (高亮), < 100ms (加载), < 2s (查词)
- **内存使用**: < 50MB (目标), ~30MB (当前)
- **成功率**: > 95% (查词), > 98% (同步)

### 覆盖率指标
- **测试覆盖**: > 80% (目标)
- **兼容性**: Chrome ✅, Firefox 待测试
- **功能完成**: 42% (当前总体)

## 命令系统

### 模式切换命令
- `/research, /r` → 研究模式
- `/innovate, /i` → 创新模式
- `/plan, /p` → 计划模式
- `/execute, /e` → 执行模式
- `/review, /rev` → 审查模式

### 系统命令
- `/start` → 项目启动
- `/init` → 系统初始化
- `/backup` → 创建备份
- `/status` → 状态检查

## 安全协议符号

### 权限级别
- **🟢 安全** → 无需特殊权限
- **🟡 注意** → 需要用户确认
- **🔴 高风险** → 需要明确授权

### 操作类型
- **读取** → 信息获取、状态查询
- **写入** → 文件修改、配置变更
- **执行** → 命令运行、工具调用
- **网络** → API 请求、数据同步

## 协作协议

### 输出格式标准
```
[MODE: 当前模式][MODEL: 模型名] → 🧐 推断用户意图与触发模式的映射
{对话内容 语言:zh-CN}
对话内容末尾 调用M1 mcp-feedback-enhanced 执行流程
```

### 角色协作原则
- 输出体现多角色视角
- 关键决策通过角色协作记录
- 技术原则贯穿全过程
- 每个角色提供专业视角
- 综合结论确保技术原则遵循

### 执行循环
```
do {
  根据反馈选择: 继续任务|切换模式|深入细节
  执行当前模式的核心任务
  技术原则检查: 验证当前模式的技术关注点
  for 角色 in 当前模式.核心参与角色:
    [角色]: {生成该角色视角的响应，体现技术专业化}
  [🎉 综合]: {生成综合结论，确保技术原则遵循}
  调用M1 mcp-feedback-enhanced 执行流程
} while (true)
```
