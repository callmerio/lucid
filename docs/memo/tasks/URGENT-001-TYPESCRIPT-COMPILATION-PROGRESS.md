# URGENT-001 TypeScript ç¼–è¯‘é”™è¯¯ä¿®å¤

**ä»»åŠ¡ID**: URGENT-001  
**åˆ›å»ºæ—¶é—´**: 2025-01-27  
**çŠ¶æ€**: planning â†’ in-progress  
**ä¼˜å…ˆçº§**: critical  
**é¢„ä¼°å·¥æ—¶**: 2-4 å°æ—¶  

## ğŸ“‹ ä»»åŠ¡æ¦‚è¿°

ä¿®å¤ Lucid æµè§ˆå™¨æ‰©å±•é¡¹ç›®ä¸­çš„ TypeScript ç¼–è¯‘é”™è¯¯ï¼Œç¡®ä¿é¡¹ç›®èƒ½å¤Ÿæ­£å¸¸ç¼–è¯‘å’Œå¼€å‘ã€‚

## ğŸ¯ ç›®æ ‡

- [ ] è§£å†³æ‰€æœ‰ TypeScript ç¼–è¯‘é”™è¯¯
- [ ] ç¡®ä¿ `npx tsc --noEmit` é›¶é”™è¯¯é€šè¿‡
- [ ] å»ºç«‹ TypeScript ç¼–è¯‘æ£€æŸ¥çš„ CI æµç¨‹

## ğŸ” é—®é¢˜åˆ†æ

### å‘ç°çš„é—®é¢˜

1. **WXT ç›¸å…³å¯¼å…¥ç¼ºå¤±**
   - `defineBackground` å‡½æ•°æœªå¯¼å…¥ (entrypoints/background.ts:3)
   - `defineContentScript` å‡½æ•°æœªå¯¼å…¥ (entrypoints/content.ts:14)
   - `browser` API å¯èƒ½éœ€è¦ç±»å‹å®šä¹‰

2. **è·¯å¾„åˆ«åè§£æé—®é¢˜**
   - `@styles/*`, `@utils/*`, `@services/*` ç­‰è·¯å¾„åˆ«å
   - å¯èƒ½å­˜åœ¨å¾ªç¯ä¾èµ–æˆ–è·¯å¾„è§£æé”™è¯¯

3. **React ç›¸å…³ç±»å‹é—®é¢˜**
   - React 19 ç±»å‹å®šä¹‰å…¼å®¹æ€§
   - JSX é…ç½®é—®é¢˜

### æŠ€æœ¯ç¯å¢ƒ

- **TypeScript**: v5.8.3
- **React**: v19.1.0
- **WXT**: v0.20.6
- **æ„å»ºå·¥å…·**: Vite + WXT

## ğŸ› ï¸ è§£å†³æ–¹æ¡ˆ

### Phase 1: WXT å¯¼å…¥ä¿®å¤

```typescript
// entrypoints/background.ts
import { defineBackground } from 'wxt/utils/define-background';

// entrypoints/content.ts  
import { defineContentScript } from 'wxt/utils/define-content-script';
```

### Phase 2: è·¯å¾„åˆ«åæ£€æŸ¥

æ£€æŸ¥ `tsconfig.json` ä¸­çš„è·¯å¾„é…ç½®ï¼š
```json
{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["src/*"],
      "@components/*": ["src/components/*"],
      "@utils/*": ["src/utils/*"],
      // ... å…¶ä»–è·¯å¾„
    }
  }
}
```

### Phase 3: ç±»å‹å®šä¹‰å®Œå–„

ç¡®ä¿æ‰€æœ‰è‡ªå®šä¹‰ç±»å‹å’Œæ¥å£å®šä¹‰æ­£ç¡®ã€‚

## ğŸ“ æ‰§è¡Œè®°å½•

### 2025-01-27 åˆå§‹åˆ†æ
- âœ… é¡¹ç›®ç»“æ„åˆ†æå®Œæˆ
- âœ… è¯†åˆ«ä¸»è¦ TypeScript é”™è¯¯ç±»å‹
- â³ å‡†å¤‡å¼€å§‹ä¿®å¤å·¥ä½œ

## ğŸ§ª æµ‹è¯•è®¡åˆ’

1. **ç¼–è¯‘æµ‹è¯•**: `npx tsc --noEmit`
2. **æ„å»ºæµ‹è¯•**: `npm run build`
3. **å¼€å‘æœåŠ¡å™¨æµ‹è¯•**: `npm run dev`

## ğŸ“Š è¿›åº¦è·Ÿè¸ª

- **æ€»ä½“è¿›åº¦**: 10%
- **é—®é¢˜è¯†åˆ«**: âœ… å®Œæˆ
- **è§£å†³æ–¹æ¡ˆè®¾è®¡**: âœ… å®Œæˆ  
- **ä»£ç ä¿®å¤**: â³ å¾…å¼€å§‹
- **æµ‹è¯•éªŒè¯**: â³ å¾…å¼€å§‹

## ğŸš¨ é£é™©è¯„ä¼°

- **ä½é£é™©**: WXT å¯¼å…¥é—®é¢˜ - æ ‡å‡†ä¿®å¤
- **ä¸­é£é™©**: è·¯å¾„åˆ«åé—®é¢˜ - å¯èƒ½å½±å“å¤šä¸ªæ–‡ä»¶
- **ä½é£é™©**: React ç±»å‹é—®é¢˜ - ç‰ˆæœ¬å…¼å®¹æ€§è‰¯å¥½

## ğŸ“š å‚è€ƒèµ„æ–™

- [WXT Documentation](https://wxt.dev/)
- [TypeScript Handbook](https://www.typescriptlang.org/docs/)
- [React TypeScript Cheatsheet](https://react-typescript-cheatsheet.netlify.app/)

## ğŸ”„ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. ç«‹å³å¼€å§‹ä¿®å¤ WXT å¯¼å…¥é—®é¢˜
2. è¿è¡Œç¼–è¯‘æ£€æŸ¥ç¡®è®¤é”™è¯¯æ•°é‡
3. é€ä¸ªä¿®å¤è¯†åˆ«çš„é—®é¢˜
4. å»ºç«‹ç¼–è¯‘æ£€æŸ¥çš„è‡ªåŠ¨åŒ–æµç¨‹
